<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Guest Update (operational) - Wherewolf</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Guest Update (operational) | Wherewolf</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="Guest Update (operational)" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Wherewolf public documentation." /> <meta property="og:description" content="Wherewolf public documentation." /> <link rel="canonical" href="/docs/integrations/endpoints/guest_update_operational.html" /> <meta property="og:url" content="/docs/integrations/endpoints/guest_update_operational.html" /> <meta property="og:site_name" content="Wherewolf" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Guest Update (operational)" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Wherewolf public documentation.","headline":"Guest Update (operational)","url":"/docs/integrations/endpoints/guest_update_operational.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> Wherewolf </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Welcome</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/integrations" class="nav-list-link">Booking Systems Integrations</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/integrations/process.html" class="nav-list-link">New Integrations</a></li><li class="nav-list-item "><a href="/docs/integrations/objectives.html" class="nav-list-link">Objectives</a></li><li class="nav-list-item "><a href="/docs/integrations/flow.html" class="nav-list-link">Flow of information</a></li><li class="nav-list-item "><a href="/docs/integrations/requirements.html" class="nav-list-link">Requirements</a></li><li class="nav-list-item "><a href="/docs/integrations/booking_definition.html" class="nav-list-link">Booking definition</a></li><li class="nav-list-item "><a href="/docs/integrations/booking_groups_and_vehicles.html" class="nav-list-link">Booking of Groups or Vehicles</a></li><li class="nav-list-item "><a href="/docs/integrations/booking_status.html" class="nav-list-link">Booking Status</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/integrations/endpoints.html" class="nav-list-link">Expected endpoints</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/integrations/endpoints/bookings.html" class="nav-list-link">Bookings</a> </li><li class="nav-list-item "> <a href="/docs/integrations/endpoints/booking_details.html" class="nav-list-link">Booking details</a> </li><li class="nav-list-item "> <a href="/docs/integrations/endpoints/activities.html" class="nav-list-link">Activities</a> </li><li class="nav-list-item "> <a href="/docs/integrations/endpoints/healthcheck.html" class="nav-list-link">Healthcheck & Credentials validation</a> </li><li class="nav-list-item "> <a href="/docs/integrations/endpoints/guest_update.html" class="nav-list-link">Guest Update</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/integrations/webhooks.html" class="nav-list-link">Expected webhooks</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/integrations/webhooks/cache.html" class="nav-list-link">Booking Created, Updated or Deleted</a> </li><li class="nav-list-item "> <a href="/docs/integrations/webhooks/caveats.html" class="nav-list-link">Known caveats and notes</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/webhooks" class="nav-list-link">Webhooks</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/webhooks/example_call.html" class="nav-list-link">Example Call</a></li><li class="nav-list-item "><a href="/docs/webhooks/payload.html" class="nav-list-link">Payload Details</a></li><li class="nav-list-item "><a href="/docs/webhooks/authentication.html" class="nav-list-link">Authentication Options</a></li><li class="nav-list-item "><a href="/docs/webhooks/trigger_tests.html" class="nav-list-link">Trigger Test Calls</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/api" class="nav-list-link">Public API</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/api/obtaining_API_key.html" class="nav-list-link">Obtaining API Key</a></li><li class="nav-list-item "><a href="/docs/api/endpoints.html" class="nav-list-link">Available Endpoints</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Wherewolf" aria-label="Search Wherewolf" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://support.getwherewolf.com/" class="site-button" > Support Documentation </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>THE FOLLOWING SPECS ARE BASED ON THE CLIENT DISPLAYING 
THE NAME/EMAIL/DOB/STATUS/COMBINEDNOTES IN THE DASHBOARD 
FOR OPERATIONAL SAFETY USE.
</code></pre></div></div> <p><strong>Guest Update endpoint (operational safety use)</strong></p> <p>Accepts a <code class="language-plaintext highlighter-rouge">POST</code> call and stores guest’s details as seen fit. Wherewolf will call this endpoint to share the details and status of the guest, this allows your system to store guest details and know if a waiver has been signed.</p> <p>After a guest have signed a waiver, or after any other update is performed on a guest record. Wherewolf will execute a <code class="language-plaintext highlighter-rouge">POST</code> call to a Guest Update endpoint on the booking system API.</p> <p>Parameters (on path or query string):</p> <ul> <li><code class="language-plaintext highlighter-rouge">bookingId</code> the booking id</li> <li><code class="language-plaintext highlighter-rouge">id</code> the guest id provided originally with the booking details (if available)</li> </ul> <p>Headers:</p> <ul> <li><code class="language-plaintext highlighter-rouge">API-key</code> API key to allow the request.</li> </ul> <p>Body:</p> <ul> <li><code class="language-plaintext highlighter-rouge">guest.remoteId</code> the guest id provided originally with the booking details (if available)</li> <li><code class="language-plaintext highlighter-rouge">guest.id</code> the Wherewolf guest/waiver id, will be unique across all guests (you can use it to detect update calls). <strong>Be aware</strong> the guest ID is a string with a max of 256 bytes, and it may contain non url safe characters.</li> <li><code class="language-plaintext highlighter-rouge">guest.pool</code> is the ID used by Wherewolf to identify a Wherewolf app.</li> <li><code class="language-plaintext highlighter-rouge">guest.bookingId</code> the booking id.</li> <li><code class="language-plaintext highlighter-rouge">guest.lastVisit</code> the date and time of the activity/activities the guest is checking-in. UTC ISO 8601.</li> <li><code class="language-plaintext highlighter-rouge">guest.status</code> indicates the current guest status. Active, Blank, Checked In, Deleted, Finalised, Incomplete, Ineligible, Loaded, No-Show, Started.</li> <li><code class="language-plaintext highlighter-rouge">guest.combinedNotes</code> Text field to contain any special data required by our mutual client, such as meals, insurance details, approvals or signature information..</li> <li><code class="language-plaintext highlighter-rouge">guest.updatedAt</code> the date and time of the last update stored for this record. UTC ISO 8601.</li> </ul> <p>Request example</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -X POST \
  __BOOKING_SYSTEM_API__/bookings/ABC123/guests/__URL_ENCODED_GUEST_ID__ \
  -H 'Content-Type: application/json' \
  -H 'API-key: 123-123-123-123' \ 
  -d '{
        "guest": { 
            "remoteId": "G333",
            "id": "abcdefg-12:30-1234567890#1",
            "pool": "qwerty123",
            "bookingId": "ABC123",
            "lastVisit": "2018-01-27T11:27:00.000Z",
            "status": "Checked In",
            "combinedNotes": "Text to contain any special data required by our mutual client, such as meals, insurance details, approvals or signature information.",
            "updatedAt": "2018-01-27T11:21:33.444Z"
        }
    }'
</code></pre></div></div> <p><em>Where <strong>BOOKING_SYSTEM_API</strong> is a placeholder for the base url of your booking system’s API</em></p> <p><em>And <strong>URL_ENCODED_GUEST_ID</strong> is the guest id from <strong>YOUR</strong> system (remoteId) if/when provided, optionally this can be filled with the Wherewolf guest.id or left empty (URL encoded when present)</em></p> <p>Response example</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>Other Standard Properties</strong></p> <p>Depending on the use case, the process of check-in may capture other details from the guest, such as “Date Of Birth” or “Where did you hear about us”.</p> <p>When extra properties are available, these <strong>could be</strong> included in the payload.</p> <p>When setting up your integration, you will need to decide and define what “Other Properties” may be of use for your clients (if any).</p> <p>By default, Wherewolf won’t send these unless deemed necessary for your use case and with express permission of your client in accordance to privacy regulation.</p> <p><strong>Standard Properties included for operational safety use</strong></p> <div class="table-wrapper"><table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Format</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>String</td> <td>Forename Surname</td> <td>Guest’s full name.</td> </tr> <tr> <td>email</td> <td>String</td> <td>user@domain.ext</td> <td>email address.</td> </tr> <tr> <td>DOB</td> <td>String</td> <td>YYYY-MM-DD</td> <td>Date of birth.</td> </tr> </tbody> </table></div> <p>Request example</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -X POST \
  __BOOKING_SYSTEM_API__/bookings/ABC123/guests/G333 \
  -H 'Content-Type: application/json' \
  -H 'API-key: 123-123-123-123' \ 
  -d '{
        "guest": { 
            "remoteId": "G333",
            "id": "abcdefg1234567890",
            "pool": "qwerty123",
            "bookingId": "ABC123",
            "lastVisit": "2018-01-27T11:27:00.000Z",
            "status": "Checked In",
            "combinedNotes": "Approved by: Jason Blunt",
            "updatedAt": "2018-01-27T11:21:33.444Z",
            "name": "Jhon Smith",
            "email": "example@getwherewolf.com",
            "DOB": "1966-11-25"
        }
    }'
</code></pre></div></div> <p><em>Where <strong>BOOKING_SYSTEM_API</strong> is a placeholder for the base url of your booking system’s API</em></p> <p>Response example</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>PDF waiver</strong></p> <p>The url for the pdf waiver is <code class="language-plaintext highlighter-rouge">https://api.wherewolf.co.nz/pdf/guest</code>. It requires the pool and guest ID as query parameters.</p> <p>Example:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://api.wherewolf.co.nz/pdf/guest?pool=qwerty123&amp;id=abcdefg1234567890
</code></pre></div></div> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
